<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Doctors — Practo Style</title>
<style>
body{font-family:'Poppins',sans-serif;background:#f7f9fc;color:#111;margin:0;padding:20px;}
h1{text-align:center;color:#0b5cff;}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(270px,1fr));gap:20px;max-width:1100px;margin:auto;}
.card{background:white;border-radius:12px;box-shadow:0 4px 14px rgba(0,0,0,0.08);padding:16px;transition:.2s;}
.card:hover{transform:translateY(-3px);}
img{width:100%;border-radius:10px;}
h3{margin:8px 0 4px;color:#0b5cff;}
.meta{color:#444;font-size:14px;}
.rating{color:#f9a825;font-weight:600;margin:4px 0;}
button{background:#0b5cff;color:white;border:none;padding:8px 14px;border-radius:8px;margin-top:10px;cursor:pointer;}
button:hover{background:#0946c1;}
</style>
</head>
<body>
<h1>Recommended Doctors</h1>
<div id="doctors" class="grid"></div>

<script>
const p=new URLSearchParams(location.search);
const spec=p.get('specialist')||'General Physician';
const data={symptoms:p.get('symptoms')||'',date:p.get('date')||'',time:p.get('time')||'',area:p.get('area')||'',package:p.get('package')||'',autobook:p.get('autobook')==='true'};

const doctors={
"Cardiologist":[
{img:"https://randomuser.me/api/portraits/women/44.jpg",name:"Dr Ananya Rao",hospital:"Fortis Hospital – Indiranagar",rating:4.8,exp:"12 yrs"},
{img:"https://randomuser.me/api/portraits/men/45.jpg",name:"Dr Rajesh Menon",hospital:"Apollo Clinic – Koramangala",rating:4.7,exp:"10 yrs"}],
"Gastroenterologist":[
{img:"https://randomuser.me/api/portraits/men/33.jpg",name:"Dr Ravi Sharma",hospital:"Manipal Hospital – Whitefield",rating:4.6,exp:"14 yrs"},
{img:"https://randomuser.me/api/portraits/women/55.jpg",name:"Dr Leena George",hospital:"CloudNine – Jayanagar",rating:4.9,exp:"11 yrs"}],
"General Physician":[
{img:"https://randomuser.me/api/portraits/men/66.jpg",name:"Dr Arjun Desai",hospital:"Apollo – Koramangala",rating:4.6,exp:"15 yrs"},
{img:"https://randomuser.me/api/portraits/women/68.jpg",name:"Dr Meera Iyer",hospital:"CloudNine – Whitefield",rating:4.8,exp:"10 yrs"}]
};

const list=doctors[spec]||doctors["General Physician"];
const box=document.getElementById('doctors');
list.forEach(d=>{
 box.innerHTML+=`
 <div class="card">
   <img src="${d.img}">
   <h3>${d.name}</h3>
   <div class="meta">${spec} • ${d.exp}</div>
   <div class="meta">${d.hospital}</div>
   <div class="rating">⭐ ${d.rating}/5</div>
   <button onclick="book('${encodeURIComponent(d.name)}')">Book Appointment</button>
 </div>`;
});

function book(doc){
 const q=new URLSearchParams({...data,doctor:doc,specialist:spec}).toString();
 window.location.href='book.html?'+q;
}

// auto-book first doctor if user said "yes"
if(data.autobook){setTimeout(()=>book(encodeURIComponent(list[0].name)),1500);}
</script>
</body>
</html>
